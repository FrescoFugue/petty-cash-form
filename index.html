<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏ö‡∏¥‡∏Å‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏¢‡πà‡∏≠‡∏¢</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-100 min-h-screen flex justify-center p-6">

  <form id="pettyForm" class="bg-white w-full max-w-2xl rounded-xl shadow p-6 space-y-4">
    <h1 class="text-xl font-semibold">‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏ö‡∏¥‡∏Å‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏¢‡πà‡∏≠‡∏¢</h1>

    <input
      name="requester"
      placeholder="‡∏ú‡∏π‡πâ‡∏Ç‡∏≠‡πÄ‡∏ö‡∏¥‡∏Å"
      class="w-full border rounded-lg px-3 py-2"
      required
    />

    <div id="itemsContainer" class="space-y-2"></div>

    <button
      type="button"
      id="addItemBtn"
      class="px-3 py-1 bg-blue-600 text-white rounded"
    >
      ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
    </button>

    <input
      id="totalAmount"
      readonly
      placeholder="‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°"
      class="w-full border rounded-lg px-3 py-2 bg-slate-100"
    />

    <button
      type="submit"
      class="w-full bg-green-600 text-white py-2 rounded-lg"
    >
      ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠
    </button>
  </form>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const itemsContainer = document.getElementById("itemsContainer");
  const totalAmountInput = document.getElementById("totalAmount");
  const addItemBtn = document.getElementById("addItemBtn");
  const form = document.getElementById("pettyForm");

  function calculateTotal() {
    let total = 0;
    itemsContainer.querySelectorAll(".item-amount").forEach(i => {
      total += Number(i.value || 0);
    });
    totalAmountInput.value = total;
  }

  function addItem() {
    const row = document.createElement("div");
    row.className = "flex gap-2";

    row.innerHTML = `
      <input class="flex-1 border rounded px-2 py-1" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£">
      <input type="number" class="w-32 border rounded px-2 py-1 item-amount" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô">
      <button type="button" class="text-red-600">üóë</button>
    `;

    row.querySelector(".item-amount")
      .addEventListener("input", calculateTotal);

    row.querySelector("button")
      .addEventListener("click", () => {
        row.remove();
        calculateTotal();
      });

    itemsContainer.appendChild(row);
  }

  addItemBtn.addEventListener("click", addItem);
  addItem();
});
</script>

</body>
</html>
